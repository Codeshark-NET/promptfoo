---
sidebar_label: promptfooconfig.yaml
sidebar_position: 11
---

# Prompt Configuration

This documentation provides an overview of the format for prompts used in various testing and operational scenarios. It outlines acceptable formats, structure, and properties available for configuring prompts.

## Overview

Prompts can be provided in different formats, including strings, arrays, or objects. Depending on the format, prompts can include raw text, function references, or configuration objects.

### Formats

Prompts can be specified as:

- **String**: A single string representing the path to a prompt file or the raw text of the prompt.
- **Array**: An array of strings, each representing a path to a prompt file or raw text.
- **Object**: An object mapping from string keys to string values, where the key is a display label and the value is the path to the prompt file or the raw text.

### Example Structures

#### String

```yaml
prompts: 'file://path/to/prompt.txt'
```

#### Array

```yaml
prompts:
  - 'file://path/to/prompt1.txt'
  - 'file://path/to/prompt2.txt'
  - { id: 'file://path/to/prompt3.txt', label: 'Prompt 3' }
```

#### Object

```yaml
prompts:
  Prompt1: 'file://path/to/prompt1.txt'
  Prompt2: 'file://path/to/prompt2.txt'
```

## Properties

Prompts can include various properties to define their behavior and structure. The available properties include:

- `label`: A user-friendly label for the prompt.
- `id`: A unique identifier for the prompt, used when referencing the prompt.
- `raw`: The raw text content of the prompt.
- `function`: A function reference for dynamic prompt generation.

### Example

#### Prompt Configuration Object

```yaml
prompts:
  - id: 'file://path/to/prompt.txt'
    label: 'Sample Prompt'
    raw: 'This is the raw content of the prompt.'
    function: 'functionName'
```

### Delimiters

Prompts can be split into multiple parts using a delimiter. By default, the delimiter is set to `---`, but it can be customized using the `PROMPTFOO_PROMPT_SEPARATOR` environment variable.

### Example of Multiple Prompts

```plaintext
Prompt part 1
---
Prompt part 2
---
Prompt part 3
```

## Acceptable Formats

### Raw Text

Raw text can be used directly as a prompt. If a file path is provided, the content of the file is read and used as the prompt.

### JSON Lines (.jsonl)

For JSON Lines files, each line is treated as a separate prompt.

### JavaScript or Python Functions

Prompts can reference functions in JavaScript or Python files. These functions can dynamically generate the prompt content based on the provided context.

### Example of JavaScript Function

```javascript
module.exports = function (context) {
  return `Hello, ${context.vars.name}`;
};
```

### Example of Python Function

```python
def generate_prompt(context):
    return f"Hello, {context['vars']['name']}"
```

## Special Cases

### Custom Function

If the `providers` configuration includes a function, all prompts are assumed to be generated by this custom function.

### Filepaths

File paths can include additional information, such as function names, by appending them after a colon.

### Example

```yaml
prompts: 'file.js:func'
```
